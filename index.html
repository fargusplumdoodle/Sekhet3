<html>

<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
	<script crossorigin src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<div id='container'></div>
<div id='cont'></div>


<script type='text/babel'>
	
	class GetData extends React.Component {
		constructor(props) {
			super(props);
			this.state = {
				data: {}
			}
		}
		handleHTTPErrors(response) {
		if (!response.ok) throw Error(response.status + ': ' + response.statusText);
			return response;
		}
		componentDidMount() {
		fetch('http://localhost:3004/logs')
			.then(response=> this.handleHTTPErrors(response))
			.then(response=> response.json())
			.then(result=> {
			  this.setState({
			    data: result
			  });
		})
		.catch(error=> {
			console.log('Fetch API Error: ' + error);
		});
	}
	render () {
		console.log(this.state.data);
		return (<div>
			<h1>Complete</h1>
			{this.state.data.map(category =>
				<p>{category}</p>
			)}</div>);
		}
	}

	ReactDOM.render(
		React.createElement('div', null, 
			<GetData/>,
		),
		document.getElementById('container')
	);

</script>
</html>
